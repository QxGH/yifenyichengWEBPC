<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>一粉一城 - 门店展示</title>
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css">
  <link rel="stylesheet" href="https://unpkg.com/bootstrap@3.3.7/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="./assets/style/common.css">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://unpkg.com/jquery@2.1.4/dist/jquery.min.js"></script>
  <script src="https://unpkg.com/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
  <script src="./js/common.js"></script>
</head>
<body>
  <div class="app-container" id="app">
    <header id="header"></header>
    <section class="body" id="body">
      <div id="banner" class="banner"></div>
      <div id="main" class="main">
        <div class="store-1">
          <i class="home-public-icon"></i>
          <i class="store-1-title"></i>
          <div class="store-1-box">
            <div class="tabs-box">
              <ul class="items clearfix">
                <li class="item active" onclick="tabsChange(1, $(this))">门店形象</li>
                <li class="item" onclick="tabsChange(2, $(this))">物料展示</li>
              </ul>
              <i class="active-bar" id="activeBar"></i>
            </div>
            <div class="picture-view clearfix">
              <div class="carousel-box">
                <div id="storeCarousel" class="carousel slide">
                  <!-- 轮播（Carousel）指标 -->
                  <ol class="carousel-indicators">
                    <li data-target="#storeCarousel" data-slide-to="0" class="active"></li>
                  </ol>
                  <!-- 轮播（Carousel）项目 -->
                  <div class="carousel-inner">
                    <div class="item active">
                      <img src="./assets/images/banner/banner_1.png" class="carousel-img" alt="First slide">
                    </div>
                  </div>
                </div>
              </div>
              <div class="view-box clearfix">
                <div class="img-box">
                  <img src="" class="img" alt="">
                </div>
                <div class="img-box">
                  <img src="" class="img" alt="">
                </div>
                <div class="img-box">
                  <img src="" class="img" alt="">
                </div>
                <div class="img-box">
                  <img src="" class="img" alt="">
                </div>
                <div class="img-box">
                  <img src="" class="img" alt="">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="store-2">
          <i class="home-public-icon"></i>
          <i class="store-2-title"></i>
          <div class="store-2-box">
            <ul class="items row" id="storeList">
              <!-- <li class="col-lg-3 col-md-4 col-sm-6 col-xs-12 item">
                <div class="item-box">
                  <div class="img-box">
                    <img src="https://cdn.xingchen.cn/FnE49clq4Ur_tKWQdTMMEfJY_way" class="img" draggable="false" alt="">
                  </div>
                  <div class="info-box">
                    <p class="name overflow-text">门店名称</p>
                    <p class="addr overflow-text">门店地址</p>
                  </div>
                </div>
              </li> -->
            </ul>
            <button type="button" class="load-more-btn" onclick="loadMore()">
              <i class="loading-icon v-mid mg-r-5 hide" id="loadingMoreIcon"></i>
              <span class="v-mid" id="loadingText">点击加载更多</span>
            </button>
          </div>
        </div>
      </div>
    </section>
    <footer id="footer"></footer>
  </div>

  <script>
    var pageData = {
      current: 1,
      size: 12
    };

    // tabs 切换
    function tabsChange(val, $this) {
      if($this.hasClass('active')) {
        return;
      };
      var x = (val-1) * 100 + '%';
      $('#activeBar').css('transform', 'translateX('+x+')');
      var later = setTimeout(function() {
        $this.addClass('active').siblings().removeClass('active');
        window.clearTimeout(later)
      }, 150);
    };

    function getList() {
      var arr = [
        { name: '门店名称1', addr: '门店地址1' },
        { name: '门店名称2', addr: '门店地址2' },
        { name: '门店名称3', addr: '门店地址3' },
        { name: '门店名称4', addr: '门店地址4' },
        { name: '门店名称5', addr: '门店地址5' },
        { name: '门店名称6', addr: '门店地址6' },
        { name: '门店名称7', addr: '门店地址7' },
        { name: '门店名称8', addr: '门店地址8' },
        { name: '门店名称9', addr: '门店地址9' },
        { name: '门店名称10', addr: '门店地址10' },
        { name: '门店名称11', addr: '门店地址11' },
        { name: '门店名称12', addr: '门店地址12' }
      ];
      var html = '';
      arr.map(function(item, index) {
        html += '<li class="col-lg-3 col-md-4 col-sm-6 col-xs-12 item">'+
                  '<div class="item-box">'+
                    '<div class="img-box">'+
                      '<img src="https://cdn.xingchen.cn/FnE49clq4Ur_tKWQdTMMEfJY_way" class="img" draggable="false" alt="">'+
                    '</div>'+
                    '<div class="info-box">'+
                      '<p class="name overflow-text">'+item.name+'</p>'+
                      '<p class="addr overflow-text">'+item.addr+'</p>'+
                    '</div>'+
                  '</div>'+
                '</li>';
      });
      $('#storeList').append(html);
      $('#loadingMoreIcon').addClass('hide');
      $('#loadingText').text('点击加载更多')
      pageData.current++;
    };

    // 加载更多
    function loadMore() {
      $('#loadingMoreIcon').removeClass('hide');
      $('#loadingText').text('正在加载')
      let later = setTimeout(function() {
        getList();
      }, 2000)
    }

    $(function() {
      getList();
    })
  </script>
</body>
</html>